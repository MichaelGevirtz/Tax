/* Soft Result screen — TASK-UI-006 */

/* === Page Container === */
.container {
  min-height: calc(100vh - 64px);
  display: flex;
  flex-direction: column;
  background: var(--color-bg-white);
}

.body {
  flex: 1;
  display: flex;
  flex-direction: column;
  max-width: 580px;
  width: 100%;
  margin-inline: auto;
  padding: var(--space-2xl) var(--space-lg);
}

/* === Visually hidden (accessible labels) === */
.srOnly {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* === Ring Section === */
.ringSection {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-block-end: var(--space-xl);
  opacity: 0;
  animation: fadeIn 250ms ease-out forwards;
}

.ringWrapper {
  position: relative;
  width: 120px;
  height: 120px;
  margin-block-end: var(--space-md);
}

.ringSvg {
  width: 120px;
  height: 120px;
  transform: rotate(-90deg);
}

.ringBg {
  fill: none;
  stroke: var(--color-bg-alt);
  stroke-width: 6;
}

.ringProgress {
  fill: none;
  stroke-width: 6;
  stroke-linecap: round;
  stroke-dasharray: 314.16; /* 2 * π * 50 */
  stroke-dashoffset: 314.16;
  transition: none;
}

.ringProgressAnimate {
  animation: drawRing 600ms ease-out forwards;
}

.ringProgressHigh {
  stroke: var(--color-success);
}

.ringProgressMedium {
  stroke: var(--color-warning);
}

.ringProgressLow {
  stroke: var(--color-text-secondary);
}

.ringLabel {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 15px;
  font-weight: 700;
  text-align: center;
  opacity: 0;
  animation: fadeIn 200ms ease-out 400ms forwards;
  white-space: nowrap;
}

.ringLabelHigh {
  color: #065f46;
}

.ringLabelMedium {
  color: #92400e;
}

.ringLabelLow {
  color: var(--color-text-secondary);
}

.ringLabelStatic {
  opacity: 1;
  animation: none;
}

/* === Title === */
.title {
  font-size: 24px;
  font-weight: 700;
  line-height: 1.4;
  color: var(--color-text);
  text-align: center;
  letter-spacing: -0.01em;
  margin-block-end: var(--space-lg);
  opacity: 0;
  animation: fadeIn 250ms ease-out 200ms forwards;
}

.titleNotEligible {
  animation-delay: 100ms;
}

/* === Reasons === */
.reasons {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  margin-block-end: var(--space-xl);
}

.reason {
  display: flex;
  align-items: flex-start;
  gap: var(--space-sm);
  font-size: var(--font-size-body);
  line-height: 1.6;
  color: var(--color-text);
  opacity: 0;
  animation: fadeSlideIn 200ms ease-out forwards;
}

.reason:nth-child(1) { animation-delay: 500ms; }
.reason:nth-child(2) { animation-delay: 550ms; }
.reason:nth-child(3) { animation-delay: 600ms; }
.reason:nth-child(4) { animation-delay: 650ms; }

.reasonIcon {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
  color: var(--color-primary);
  margin-block-start: 3px;
}

/* === Transparency === */
.transparency {
  text-align: center;
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-block-end: var(--space-xl);
  opacity: 0;
  animation: fadeIn 200ms ease-out 600ms forwards;
}

/* === Fork Cards === */
.fork {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-md);
  margin-block-end: var(--space-lg);
  opacity: 0;
  animation: fadeSlideIn 300ms ease-out 800ms forwards;
}

.forkCard {
  background: var(--color-bg-white);
  border: 1.5px solid var(--color-border);
  border-radius: var(--radius);
  padding: var(--space-lg);
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  transition: border-color 0.2s, box-shadow 0.2s;
  cursor: default;
}

.forkCard:hover {
  border-color: var(--color-primary-subtle);
  box-shadow: var(--shadow-card);
}

.forkCardPrimary:hover {
  border-color: var(--color-primary);
}

.forkCardIcon {
  width: 32px;
  height: 32px;
  color: var(--color-primary);
  margin-block-end: var(--space-xs);
}

.forkCardSecondary .forkCardIcon {
  color: var(--color-text-secondary);
}

.forkCardTitle {
  font-size: 16px;
  font-weight: 700;
  color: var(--color-text);
  line-height: 1.4;
}

.forkCardSubtitle {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  line-height: 1.5;
}

.forkCardBtn {
  margin-block-start: auto;
  padding: 12px 20px;
  border-radius: var(--radius-sm);
  font-size: 15px;
  font-weight: 600;
  border: none;
  cursor: pointer;
  transition: background 0.15s, transform 0.1s;
  text-align: center;
  background: var(--color-primary);
  color: #fff;
}

.forkCardBtn:hover {
  background: var(--color-primary-hover);
}

.forkCardBtn:active {
  transform: scale(0.98);
}

/* === Email Capture (secondary card) === */
.emailForm {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  margin-block-start: auto;
}

.emailInput {
  width: 100%;
  padding: 11px 14px;
  border: 1.5px solid var(--color-border);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-sm);
  color: var(--color-text);
  background: var(--color-bg-white);
  direction: ltr;
  text-align: left;
  transition: border-color 0.15s, box-shadow 0.15s;
  outline: none;
}

.emailInput::placeholder {
  color: var(--color-text-secondary);
  opacity: 0.6;
}

.emailInput:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.emailInputError {
  border-color: var(--color-error);
}

.emailError {
  font-size: var(--font-size-xs);
  color: var(--color-error);
  display: none;
}

.emailErrorShow {
  display: block;
}

.emailSubmit {
  width: 100%;
  padding: 11px 20px;
  border-radius: var(--radius-sm);
  font-size: 14px;
  font-weight: 600;
  border: 1.5px solid var(--color-border);
  background: transparent;
  color: var(--color-primary);
  cursor: pointer;
  transition: background 0.15s, border-color 0.15s, transform 0.1s;
}

.emailSubmit:hover {
  background: var(--color-primary-light);
  border-color: var(--color-primary-subtle);
}

.emailSubmit:active {
  transform: scale(0.98);
}

.emailSubmit:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.emailPrivacy {
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
  opacity: 0.7;
  text-align: center;
  line-height: 1.4;
}

/* Success state */
.emailSuccess {
  display: none;
  flex-direction: column;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-md) 0;
  text-align: center;
}

.emailSuccessShow {
  display: flex;
}

.emailSuccessIcon {
  width: 36px;
  height: 36px;
  color: var(--color-success);
  animation: scaleIn 300ms ease-out;
}

.emailSuccessText {
  font-size: var(--font-size-sm);
  font-weight: 600;
  color: var(--color-text);
}

.emailSuccessSubtext {
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
  line-height: 1.5;
}

/* === 106 Guide === */
.guideToggle {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
  padding: var(--space-md);
  background: none;
  border: none;
  cursor: pointer;
  font-size: var(--font-size-sm);
  font-weight: 600;
  color: var(--color-primary);
  width: 100%;
  transition: color 0.15s;
  opacity: 0;
  animation: fadeIn 200ms ease-out 1000ms forwards;
}

.guideToggle:hover {
  color: var(--color-primary-hover);
}

.guideChevron {
  width: 16px;
  height: 16px;
  transition: transform 0.2s;
}

.guideChevronOpen {
  transform: rotate(180deg);
}

.guideContent {
  overflow: hidden;
  max-height: 0;
  transition: max-height 0.25s ease-out, opacity 0.2s;
  opacity: 0;
}

.guideContentOpen {
  max-height: 300px;
  opacity: 1;
}

.guideList {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  padding: 0 var(--space-md) var(--space-lg);
}

.guideItem {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  line-height: 1.6;
  display: flex;
  align-items: flex-start;
  gap: var(--space-sm);
}

.guideItemBold {
  color: var(--color-text);
  font-weight: 600;
}

.guideDot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--color-border);
  flex-shrink: 0;
  margin-block-start: 9px;
}

/* === Back link === */
.backLink {
  text-align: center;
  margin-block-start: var(--space-md);
  opacity: 0;
  animation: fadeIn 200ms ease-out 1100ms forwards;
}

.backLinkAnchor {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  text-decoration: underline;
  text-underline-offset: 3px;
  cursor: pointer;
  transition: color 0.15s;
  background: none;
  border: none;
  padding: 0;
}

.backLinkAnchor:hover {
  color: var(--color-text);
}

/* === Not Eligible State === */
.notEligibleBody {
  text-align: center;
  font-size: var(--font-size-body);
  color: var(--color-text-secondary);
  line-height: 1.6;
  margin-block-end: var(--space-xl);
  opacity: 0;
  animation: fadeIn 250ms ease-out 300ms forwards;
}

.notEligibleActions {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  align-items: center;
  margin-block-start: auto;
  padding-block-start: var(--space-xl);
  opacity: 0;
  animation: fadeSlideIn 300ms ease-out 500ms forwards;
}

.btnPrimary {
  width: 100%;
  max-width: 360px;
  padding: 14px 24px;
  background: var(--color-primary);
  color: #fff;
  border: none;
  border-radius: var(--radius-sm);
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.15s;
}

.btnPrimary:hover {
  background: var(--color-primary-hover);
}

.btnSecondaryText {
  background: none;
  border: none;
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  cursor: pointer;
  text-decoration: underline;
  text-underline-offset: 3px;
  padding: var(--space-sm);
}

.btnSecondaryText:hover {
  color: var(--color-text);
}

/* === Keyframes === */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeSlideIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes drawRing {
  to { stroke-dashoffset: var(--ring-target); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.5); }
  to { opacity: 1; transform: scale(1); }
}

/* === Responsive === */
@media (max-width: 639px) {
  .body {
    padding: var(--space-lg) var(--space-md);
  }

  .title {
    font-size: 21px;
  }

  .fork {
    grid-template-columns: 1fr;
  }

  .ringWrapper {
    width: 100px;
    height: 100px;
  }

  .ringSvg {
    width: 100px;
    height: 100px;
  }

  .ringLabel {
    font-size: 13px;
  }
}

/* prefers-reduced-motion is handled globally in globals.css */
